# Symfony console

Doctrine should now be configured to talk to our database, which lives inside a Docker container. Thanks to the fact that these symphony dev server is automatically exposing this database under school URL environment, variable, which points directly into our container on the port for me, port 5, 7 39. Now let's make sure the actual database has been created, which is called app first in index IP. Make sure to remove the D E D and then I'll close that file. Now spin over to your terminal and run bin console with no arguments. This prints all of the bin console commands, including a bunch of new ones that start with the word doctrine. Ooh, most of these aren't very important and we'll walk through the ones that are important along the way. For example, there's one in here called doctrine database create cool. Let's try it. Bin console doctrine, database, create and error. Oh Hmm. And if you look, it's trying to talk to port 5, 4 32, but our environment variable is pointing to port 5, 0 7 3 9 it's. As if it's using the in database URL environment, variable from our do end file. Instead of the real one, that's set by the symphony binary. And in fact, that's exactly what's happening. And it makes sense when we refresh the page in our browser, that's processed through the symphony binary, which gives it the opportunity to add this environment variable.

But when we run a bin console command where the console is just a PHP file that lives in a bin directory, the symphony binary is never used as part of this process. And so it never has the opportunity to add the environment variable needs. And so it falls back to using the incorrect one in dot N direct one in N to fix this. Whenever you run a bin console command that needs the environment variables instead of running bin console, run symphony console, that's literally a shortcut to running bin console. It's no different, but the fact that you're running it through symphony binary gives it the opportunity to add the missing environment variables. And when we run it, yes, we get an error because the database already exists, but it did successfully connect and talk to the database.

All right, there's one last little bit of configuration that we need. Open config packages, doctrine, YAML. This is a file that came with the recipe and UN find server version and UN commented. So this 13 here is referring to the version of your database engine. So we're using Postgre version 13. So we put version 13 here. If you're using my SQL version eight, then you would put eight here. This helps doctor determine which features your database does or doesn't support because a newer version of a database might support newer features that an older version doesn't, it's not a particularly interesting video configuration. We just need to make sure this is set. So that doctrine does the best job for us. All right, next, let's create our first entity class, which is the most foundational concept inside of doctrine and the key to creating our first database table. That's next.
